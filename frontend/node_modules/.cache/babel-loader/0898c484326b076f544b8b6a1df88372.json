{"remainingRequest":"C:\\Users\\aliiski\\Desktop\\work\\RSSReader-master\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\aliiski\\Desktop\\work\\RSSReader-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\aliiski\\Desktop\\work\\RSSReader-master\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\aliiski\\Desktop\\work\\RSSReader-master\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\aliiski\\Desktop\\work\\RSSReader-master\\frontend\\src\\views\\Home.vue","mtime":1554293422725},{"path":"C:\\Users\\aliiski\\Desktop\\work\\RSSReader-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aliiski\\Desktop\\work\\RSSReader-master\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\aliiski\\Desktop\\work\\RSSReader-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aliiski\\Desktop\\work\\RSSReader-master\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\aliiski\\\\Desktop\\\\work\\\\RSSReader-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.array.find\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      feedItems: [],\n      errorMsg: '',\n      feedCounter: 10,\n      page: 1,\n      checksumIsValid: null,\n      schemaIsValid: null,\n      signatureIsValid: null,\n      url: 'http://fe-test.guardtime.com/documents'\n    };\n  },\n  methods: {\n    getFeed: function getFeed() {\n      var _this = this;\n\n      axios.get(this.url + '?perPage=50&page=' + this.page).then(function (res) {\n        _this.feedItems = _this.feedItems.concat(res.data.data);\n      }).catch(function (error) {// this.page+=1;\n        // this.getFeed()\n        // this.feedCounter+=10;\n      });\n    },\n    validateSingleDoc: function validateSingleDoc(id) {\n      var _this2 = this;\n\n      this.checkIfValid(id);\n\n      var feedObjectById = function feedObjectById(what) {\n        return _this2.feedItems.find(function (element) {\n          return element.id === what;\n        });\n      };\n\n      if (feedObjectById(id)) {\n        this.$set(feedObjectById(id), 'checksum', this.checksumIsValid);\n        this.$set(feedObjectById(id), 'schema', this.schemaIsValid);\n        this.$set(feedObjectById(id), 'signature', this.signatureIsValid);\n      }\n    },\n    checkIfValid: function () {\n      var _checkIfValid = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(id) {\n        var _this3 = this;\n\n        var modes, gotFalse, _loop, i, _ret;\n\n        return regeneratorRuntime.wrap(function _callee$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                modes = ['validateChecksum', 'validateSchema', 'validateSignature'];\n                gotFalse = false;\n                _loop =\n                /*#__PURE__*/\n                regeneratorRuntime.mark(function _loop(i) {\n                  return regeneratorRuntime.wrap(function _loop$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return axios.post(_this3.url + '/' + id + '/' + modes[i]).then(function (res) {\n                            if (!res.data.valid) {\n                              gotFalse = true;\n                            }\n\n                            if (i === 0) {\n                              _this3.checksumIsValid = res.data.valid;\n                              console.log('here 1', _this3.checksumIsValid);\n                            } else if (i === 1) {\n                              _this3.schemaIsValid = res.data.valid;\n                              console.log('here 2', _this3.schemaIsValid);\n                            } else {\n                              _this3.signatureIsValid = res.data.valid;\n                              console.log('here 3', _this3.signatureIsValid);\n                            }\n                          });\n\n                        case 2:\n                          if (!(gotFalse === true)) {\n                            _context.next = 4;\n                            break;\n                          }\n\n                          return _context.abrupt(\"return\", \"break\");\n\n                        case 4:\n                          gotFalse = false;\n\n                        case 5:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _loop, this);\n                });\n                i = 0;\n\n              case 4:\n                if (!(i < modes.length)) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                return _context2.delegateYield(_loop(i), \"t0\", 6);\n\n              case 6:\n                _ret = _context2.t0;\n\n                if (!(_ret === \"break\")) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                return _context2.abrupt(\"break\", 12);\n\n              case 9:\n                i++;\n                _context2.next = 4;\n                break;\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function checkIfValid(_x) {\n        return _checkIfValid.apply(this, arguments);\n      }\n\n      return checkIfValid;\n    }(),\n    infiniteScroll: function infiniteScroll() {\n      var _this4 = this;\n\n      window.onscroll = function () {\n        var bottomOfWindow = document.documentElement.scrollTop + window.innerHeight === document.documentElement.offsetHeight;\n\n        if (bottomOfWindow) {\n          _this4.page += 1;\n\n          _this4.getFeed();\n\n          _this4.feedCounter += 10;\n        }\n      };\n    }\n  },\n  created: function created() {\n    this.getFeed();\n  },\n  mounted: function mounted() {\n    this.infiniteScroll();\n  }\n};",{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <v-container grid-list-lg>\n            <v-layout row wrap>\n                <!--<v-flex xs12 v-if=\"errorMsg\">-->\n                    <!--<v-card color=\"blue-grey darken-2\">-->\n                        <!--<v-card-text  class=\"text\">-->\n                            <!--<p>{{ errorMsg }}</p>-->\n                        <!--</v-card-text>-->\n                        <!--<v-card-actions class=\"buttons\">-->\n                            <!--<div class=\"button-wrapper\"><v-btn @click=\"getFeed\" flat color=\"orange\">Lae uuesti</v-btn></div>-->\n                        <!--</v-card-actions>-->\n                    <!--</v-card>-->\n                <!--</v-flex>-->\n                <v-flex xs12  v-for=\"item in feedItems\">\n                    <v-card color=\"blue-grey darken-2\">\n                        <v-card-title class=\"text\">\n                            <div class=\"headline\">{{ item.filename }}</div>\n                        </v-card-title>\n                        <v-card-text  class=\"text\">\n                            <div>{{ item.hash }}</div>\n                            <div>{{ item.id}}</div>\n                            <div>{{item.checksum}}</div>\n                            <div>{{item.schema}}</div>\n                            <div>{{item.signature}}</div>\n                        </v-card-text>\n                        <v-card-actions class=\"buttons\">\n                            <div class=\"button-wrapper\" @click=\"validateSingleDoc(item.id)\"><v-btn\n                                    flat color=\"orange\">Validate</v-btn></div>\n                        </v-card-actions>\n                    </v-card>\n                </v-flex>\n            </v-layout>\n        </v-container>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n    export default {\n        data() {\n            return {\n                feedItems: [],\n                errorMsg: '',\n                feedCounter: 10,\n                page: 1,\n                checksumIsValid: null,\n                schemaIsValid: null,\n                signatureIsValid: null,\n                url: 'http://fe-test.guardtime.com/documents',\n            }\n        },\n        methods: {\n            getFeed() {\n                axios.get(this.url + '?perPage=50&page=' + this.page)\n                    .then((res) => {\n                            this.feedItems = this.feedItems.concat(res.data.data);\n                    })\n                    .catch((error) => {\n                        // this.page+=1;\n                        // this.getFeed()\n                        // this.feedCounter+=10;\n                })\n            },\n            validateSingleDoc(id) {\n                this.checkIfValid(id);\n\n                let feedObjectById = what => this.feedItems.find(element => element.id === what);\n                if(feedObjectById(id)) {\n                    this.$set(feedObjectById(id), 'checksum',  this.checksumIsValid);\n                    this.$set(feedObjectById(id), 'schema',  this.schemaIsValid);\n                    this.$set(feedObjectById(id), 'signature',  this.signatureIsValid);\n                }\n            },\n            async checkIfValid(id) {\n                let modes = ['validateChecksum', 'validateSchema', 'validateSignature'];\n                let gotFalse = false;\n\n                for(let i = 0; i < modes.length; i++) {\n                    await axios.post(this.url + '/'+ id + '/' + modes[i])\n                        .then((res) => {\n                            if (!res.data.valid) {\n                               gotFalse = true\n                            }\n                            if (i === 0) {\n                                this.checksumIsValid = res.data.valid\n                                console.log('here 1', this.checksumIsValid)\n                            }\n                            else if (i === 1) {\n                                this.schemaIsValid = res.data.valid\n                                console.log('here 2', this.schemaIsValid)\n                            }\n                            else {\n                                this.signatureIsValid = res.data.valid\n                                console.log('here 3', this.signatureIsValid)\n                            }\n                        })\n                    if (gotFalse === true) {\n                        break;\n                    }\n                    gotFalse = false\n                }\n            },\n            infiniteScroll() {\n                window.onscroll = () => {\n                    let bottomOfWindow = document.documentElement.scrollTop + window.innerHeight === document.documentElement.offsetHeight;\n\n                    if (bottomOfWindow) {\n                        this.page+=1;\n                        this.getFeed()\n                        this.feedCounter+=10;\n                    }\n                };\n\n            }\n    },\n    created() {\n        this.getFeed();\n    },\n    mounted() {\n        this.infiniteScroll();\n    }\n};\n</script>\n<style>\n    .text {\n        color: #ddd;\n    }\n    .button-wrapper {\n        text-align: right;\n        width: 100%;\n    }\n    .buttons {\n        background: #455A70;\n    }\n</style>\n"],"sourceRoot":"src/views"}]}